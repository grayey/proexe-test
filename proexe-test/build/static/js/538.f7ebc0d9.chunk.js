"use strict";(self.webpackChunkproexe_test=self.webpackChunkproexe_test||[]).push([[538],{538:function(t,n,r){r.r(n);var e=r(1413),a=r(5861),c=r(885),s=r(7757),i=r.n(s),u=r(2791),o=r(1757),l=r(364),d=r(9202),p=r(1830),f=r.n(p),h=r(6871),v=r(9142),x=r(184);n.default=(0,l.$j)((function(t){return{userProps:t.user}}))((function(t){var n=t.userProps.users,r=(0,l.I0)(),s=(0,h.s0)(),p=(0,u.useState)({fetching:!1,processing:!1}),m=(0,c.Z)(p,2),y=m[0],j=m[1],b=(0,u.useState)({ASC:!1,DESC:!1}),w=(0,c.Z)(b,2),k=w[0],Z=w[1];(0,u.useEffect)((function(){U()}),[]);var U=function(){var t=(0,a.Z)(i().mark((function t(){var a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j((0,e.Z)((0,e.Z)({},y),{},{fetching:!0})),a=n,t.prev=2,a.length){t.next=8;break}return t.next=6,d.Z.getAllUsers();case 6:c=t.sent,a=c.map((function(t){return{id:t.id,name:t.name,username:t.username,email:t.email,city:t.address.city}}));case 8:r((0,o.HM)(a)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error({err:t.t0});case 14:return t.prev=14,j((0,e.Z)((0,e.Z)({},y),{},{fetching:!1})),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.Z.deleteUser(n);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error({err:t.t0});case 8:return t.prev=8,r((0,o.kX)(n)),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})));return function(n){return t.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"card p-3",children:[(0,x.jsxs)("div",{className:"card-header bg-light",children:[(0,x.jsx)("button",{className:"float-end btn btn-primary",onClick:function(){return s("/users/add")},children:"Add new"}),(0,x.jsx)("div",{children:(0,x.jsx)("b",{children:" User list"})})]}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-bordered table-striped",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Id"}),(0,x.jsx)("th",{children:"Name"}),(0,x.jsxs)("th",{children:["Username",(0,x.jsxs)("div",{className:"float-end",children:[(0,x.jsx)("div",{className:"sort",onClick:function(){Z({ASC:!0,DESC:!1}),r((0,o.nY)(v.fD.SORT_ASC))},children:(0,x.jsx)("i",{className:"icon-sort-asc".concat(k.ASC?" active":"")})}),(0,x.jsx)("div",{className:"sort",onClick:function(){Z({ASC:!1,DESC:!0}),r((0,o.nY)(v.fD.SORT_DESC))},children:(0,x.jsx)("i",{className:"icon-sort-desc".concat(k.DESC?" active":"")})})]})]}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"City"}),(0,x.jsx)("th",{children:"Edit"}),(0,x.jsx)("th",{children:"Delete"})]})}),(0,x.jsx)("tbody",{children:n.length?n.map((function(t,n){return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[n+1,"."]}),(0,x.jsx)("td",{children:t.name}),(0,x.jsx)("td",{children:t.username}),(0,x.jsx)("td",{children:t.email}),(0,x.jsx)("td",{children:t.city}),(0,x.jsx)("td",{children:(0,x.jsx)("button",{className:"btn btn-sm btn-warning text-white",onClick:function(){return s("/users/".concat(t.id))},children:"edit"})}),(0,x.jsx)("td",{children:(0,x.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){!function(t){var n="Are you sure you want to delete ".concat(t.name,"?");f().fire(n).then((function(n){n.isConfirmed&&g(t)}))}(t)},children:"delete"})})]},t.id)})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:8,className:"text-center",children:"No records found."})})})]})})})]})})}))},9202:function(t,n,r){r.d(n,{Z:function(){return y}});var e=r(5861),a=r(3144),c=r(5671),s=r(136),i=r(3668),u=r(7757),o=r.n(u),l=r(4569),d=r.n(l),p=r(9142),f="production",h={development:{apiBaseUrl:"https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb"},production:{apiBaseUrl:"https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb"},test:{apiBaseUrl:"https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb"}}[f.trim()],v=function(t){var n=t.response;return n||(n={data:{message:"Server unvailable, please try again.",statusCode:p.MS.serverUnavailable}}),n.data&&n.data.error&&(n.data.message=n.data.error),n},x=(0,a.Z)((function t(){var n=this;(0,c.Z)(this,t),this.apiBaseUrl=h.apiBaseUrl,this.get=function(){var t=(0,e.Z)(o().mark((function t(r,e){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(n.apiBaseUrl,"/").concat(r),a=e?"".concat(a,"/").concat(e):a,t.abrupt("return",d().get(a).then((function(t){return t.data})).catch((function(t){throw v(t).data})));case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),this.post=function(){var t=(0,e.Z)(o().mark((function t(r,e){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(n.apiBaseUrl,"/").concat(r),t.abrupt("return",d().post(a,e).then((function(t){return t.data})).catch((function(t){throw v(t).data})));case 2:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),this.put=function(){var t=(0,e.Z)(o().mark((function t(r,e){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(n.apiBaseUrl,"/").concat(r),t.abrupt("return",d().put(a,e).then((function(t){return t.data})).catch((function(t){throw v(t).data})));case 2:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),this.patch=function(){var t=(0,e.Z)(o().mark((function t(r){var e,a,c=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>1&&void 0!==c[1]?c[1]:null,a="".concat(n.apiBaseUrl,"/").concat(r),t.abrupt("return",d().patch(a,e).then((function(t){return t.data})).catch((function(t){throw v(t).data})));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),this.del=function(){var t=(0,e.Z)(o().mark((function t(r){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(n.apiBaseUrl,"/").concat(r),t.abrupt("return",d().delete(e).then((function(t){return t.data})).catch((function(t){throw v(t).data})));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()})),m=function(t){(0,s.Z)(r,t);var n=(0,i.Z)(r);function r(){var t;(0,c.Z)(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=n.call.apply(n,[this].concat(s))).entityUrl="data",t.getAllUsers=(0,e.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get(t.entityUrl));case 1:case"end":return n.stop()}}),n)}))),t.getUserById=function(){var n=(0,e.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get(t.entityUrl,r));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t.createUser=function(){var n=(0,e.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post(t.entityUrl,r));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t.updateUser=function(){var n=(0,e.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.put("".concat(t.entityUrl,"/").concat(r.id),r));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t.deleteUser=function(){var n=(0,e.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.del("".concat(t.entityUrl,"/").concat(r.id)));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t}return(0,a.Z)(r)}(x),y=new m},1757:function(t,n,r){r.d(n,{HM:function(){return a},cn:function(){return c},Nq:function(){return s},kX:function(){return i},nY:function(){return u}});var e=r(2398),a=function(t){return{type:e.b1,payload:t}},c=function(t){return{type:e.jN,payload:t}},s=function(t){return{type:e.AX,payload:t}},i=function(t){return{type:e.g4,payload:t}},u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"username";return{type:t,payload:n}}}}]);
//# sourceMappingURL=538.f7ebc0d9.chunk.js.map