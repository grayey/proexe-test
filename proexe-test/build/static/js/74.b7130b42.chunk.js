"use strict";(self.webpackChunkproexe_test=self.webpackChunkproexe_test||[]).push([[74],{3074:function(e,r,n){n.r(r);var t=n(5861),a=n(4942),s=n(1413),c=n(885),i=n(7757),u=n.n(i),o=n(2791),l=n(1757),d=n(364),p=n(6871),m=n(9202),h=n(5705),f=n(6006),v=n(4982),x=n(184),y={name:"",email:"",username:"",city:""},j=f.Ry().shape({name:f.Z_().required("Name is required"),username:f.Z_().required("Username is required"),email:f.Z_().email("Enter a valid email").required("Email is required"),city:f.Z_().required("City is required")});r.default=(0,d.$j)((function(e){return{userProps:e.user}}))((function(e){var r=(0,p.s0)(),n=(0,d.I0)(),i=e.userProps.users,f=(0,o.useState)({fetching:!1,processing:!1}),g=(0,c.Z)(f,2),b=g[0],w=g[1],N=(0,o.useState)(y),Z=(0,c.Z)(N,2),U=Z[0],k=Z[1],B=function(e){var r=e.target,n=r.name,t=r.value;k((0,s.Z)((0,s.Z)({},U),{},(0,a.Z)({},n,t)))},C=function(){var e=(0,t.Z)(u().mark((function e(){var t,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w((0,s.Z)((0,s.Z)({},b),{},{processing:!0})),t=U,a=i[i.length-1],t.id=a?(+a.id+1).toString():11..toString(),e.prev=4,e.next=7,m.Z.createUser(U);case 7:n((0,l.cn)(t)),r("/users"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error({err:e.t0});case 14:return e.prev=14,w((0,s.Z)((0,s.Z)({},b),{},{processing:!1})),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"card",children:(0,x.jsx)(h.J9,{initialValues:U,validationSchema:j,onSubmit:C,children:function(e){var n=e.errors,t=e.touched,a=e.handleChange,s=e.handleBlur,c=e.handleSubmit,i=e.values;return(0,x.jsxs)("form",{className:"needs-validation",onSubmit:c,noValidate:!0,children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("b",{children:"Add user form"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("div",{className:"row gy-4 row-cols-1",children:[(0,x.jsxs)("div",{className:"col",children:[(0,x.jsxs)("label",{htmlFor:"addName",children:["Name",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)("input",{id:"addName",onBlur:s,onChange:function(e){B(e),a(e)},type:"text",name:"name",value:i.name,className:"form-control ".concat(t.name&&n.name&&"has-error")}),(0,x.jsx)("small",{className:"text-danger",children:t.name&&n.name}),(0,x.jsx)("div",{})]}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsxs)("label",{htmlFor:"addUsername",children:["Username",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)("input",{id:"addUsername",type:"text",onBlur:s,onChange:function(e){B(e),a(e)},name:"username",value:i.username,className:"form-control ".concat(t.username&&n.username&&"has-error")}),(0,x.jsx)("small",{className:"text-danger",children:t.username&&n.username})]}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsxs)("label",{htmlFor:"addEmail",children:["Email",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)("input",{id:"addEmail",type:"text",onBlur:s,onChange:function(e){B(e),a(e)},name:"email",value:i.email,className:"form-control ".concat(t.email&&n.email&&"has-error")}),(0,x.jsx)("small",{className:"text-danger",children:t.email&&n.email})]}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsxs)("label",{htmlFor:"addCity",children:["City",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)("input",{id:"addCity",type:"text",onBlur:s,onChange:function(e){B(e),a(e)},name:"city",value:i.city,className:"form-control ".concat(t.city&&n.city&&"has-error")}),(0,x.jsx)("small",{className:"text-danger",children:t.city&&n.city})]})]})}),(0,x.jsx)("div",{className:"card-footer",children:(0,x.jsxs)("div",{className:"float-end",children:[(0,x.jsx)("button",{className:"btn btn-outline-danger m-2",onClick:function(){return r("/users")},children:"Cancel"}),(0,x.jsxs)("button",{className:"btn btn-".concat(v.Jp(n,t)?"success":"primary"),type:"submit",disabled:b.processing,children:["Submit",b.processing&&(0,x.jsx)("i",{className:"spinner"})]})]})})]})}})})})}))},9202:function(e,r,n){n.d(r,{Z:function(){return y}});var t=n(5861),a=n(3144),s=n(5671),c=n(136),i=n(3668),u=n(7757),o=n.n(u),l=n(4569),d=n.n(l),p=n(9142),m="production",h={development:{apiBaseUrl:"https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb"},production:{apiBaseUrl:"https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb"},test:{apiBaseUrl:"https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb"}}[m.trim()],f=function(e){var r=e.response;return r||(r={data:{message:"Server unvailable, please try again.",statusCode:p.MS.serverUnavailable}}),r.data&&r.data.error&&(r.data.message=r.data.error),r},v=(0,a.Z)((function e(){var r=this;(0,s.Z)(this,e),this.apiBaseUrl=h.apiBaseUrl,this.get=function(){var e=(0,t.Z)(o().mark((function e(n,t){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(r.apiBaseUrl,"/").concat(n),a=t?"".concat(a,"/").concat(t):a,e.abrupt("return",d().get(a).then((function(e){return e.data})).catch((function(e){throw f(e).data})));case 3:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),this.post=function(){var e=(0,t.Z)(o().mark((function e(n,t){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(r.apiBaseUrl,"/").concat(n),e.abrupt("return",d().post(a,t).then((function(e){return e.data})).catch((function(e){throw f(e).data})));case 2:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),this.put=function(){var e=(0,t.Z)(o().mark((function e(n,t){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(r.apiBaseUrl,"/").concat(n),e.abrupt("return",d().put(a,t).then((function(e){return e.data})).catch((function(e){throw f(e).data})));case 2:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),this.patch=function(){var e=(0,t.Z)(o().mark((function e(n){var t,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:null,a="".concat(r.apiBaseUrl,"/").concat(n),e.abrupt("return",d().patch(a,t).then((function(e){return e.data})).catch((function(e){throw f(e).data})));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),this.del=function(){var e=(0,t.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(r.apiBaseUrl,"/").concat(n),e.abrupt("return",d().delete(t).then((function(e){return e.data})).catch((function(e){throw f(e).data})));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()})),x=function(e){(0,c.Z)(n,e);var r=(0,i.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=r.call.apply(r,[this].concat(c))).entityUrl="data",e.getAllUsers=(0,t.Z)(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.get(e.entityUrl));case 1:case"end":return r.stop()}}),r)}))),e.getUserById=function(){var r=(0,t.Z)(o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.get(e.entityUrl,n));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.createUser=function(){var r=(0,t.Z)(o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.post(e.entityUrl,n));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.updateUser=function(){var r=(0,t.Z)(o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.put("".concat(e.entityUrl,"/").concat(n.id),n));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.deleteUser=function(){var r=(0,t.Z)(o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.del("".concat(e.entityUrl,"/").concat(n.id)));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e}return(0,a.Z)(n)}(v),y=new x},1757:function(e,r,n){n.d(r,{HM:function(){return a},cn:function(){return s},Nq:function(){return c},kX:function(){return i},nY:function(){return u}});var t=n(2398),a=function(e){return{type:t.b1,payload:e}},s=function(e){return{type:t.jN,payload:e}},c=function(e){return{type:t.AX,payload:e}},i=function(e){return{type:t.g4,payload:e}},u=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"username";return{type:e,payload:r}}}}]);
//# sourceMappingURL=74.b7130b42.chunk.js.map